# 🚀 クイックスタートガイド - Gmail Outlook Reply Cleaner

## 📸 問題の例

添付いただいた画像のような状況：

### Image 1の問題
- 宛先欄に大量の重複したmailtoリンク
- メール本文が見づらい

### Image 2の問題  
```
> > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > 
> > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > >
```
- `>` の無限繰り返し
- メールアドレスのリンクが埋もれている

## ✨ この拡張機能で解決

### 変更点（v2.0）

1. **❌ 自動クリーンアップを削除**
   - 勝手に変更されることがない
   - ユーザーが完全にコントロール

2. **✅ 手動ボタンを追加**
   - 必要な時だけクリック
   - 削減した文字数を通知
   - 美しいUIデザイン

3. **✅ `> > >` 削除機能を強化**
   - 3つ以上の連続を1つに統合
   - HTMLエンティティにも対応

## 🎯 使用手順

### ステップ1: 拡張機能をインストール

すでにデスクトップにフォルダがあるので：

1. Chromeを開く
2. `chrome://extensions/` にアクセス
3. 既存の拡張機能があれば「更新」ボタン（↻）をクリック
4. なければ:
   - 「デベロッパーモード」ON
   - 「パッケージ化されていない拡張機能を読み込む」
   - デスクトップの `gmail-cleanup-extension` フォルダを選択

### ステップ2: Gmailで使用

1. Gmail（https://mail.google.com）を開く
2. Outlookユーザーからのメールを開く
3. 「返信」または「転送」をクリック
4. **画面右下に紫色のボタンが出現**:
   ```
   🧹 メールをクリーンアップ
   ```

### ステップ3: クリーンアップ実行

1. ボタンをクリック
2. 一瞬「🔄 クリーンアップ中...」と表示
3. 完了すると通知が表示:
   ```
   クリーンアップ完了！ 12,345文字を削減しました
   ```

## 🎨 ボタンの動作

### 表示タイミング
- ✅ 返信/転送画面を開いている時
- ❌ メール一覧を見ている時

### ボタンの位置
- 画面右下に固定
- 常に見やすい位置
- スクロールしても追従

### 視覚効果
- ホバー時に浮き上がる
- クリック時に処理中表示
- 完了時に通知がスライドイン

## 📊 削除される内容の詳細

### 1. `>` の繰り返し

**Before:**
```
> > > > > > > > > > > > > > > > > > > > 
> > > > > > > > > > > > > > > > > > > >
Sent: Wednesday, September 3, 2025
```

**After:**
```
> Sent: Wednesday, September 3, 2025
```

### 2. mailtoリンクの重複

**Before:**
```
From: user@example.com <mailto:user@example.com> <mailto:user@example.com> 
<mailto:user@example.com> <mailto:user@example.com>
```

**After:**
```
From: user@example.com <mailto:user@example.com>
```

### 3. 過剰な空白行

**Before:**
```
Text


<br>
<br>
<br>
<br>
More text
```

**After:**
```
Text

More text
```

## 🔍 デバッグ方法

### コンソールで確認

1. Gmail画面で ⌘+Option+I
2. 「Console」タブをクリック
3. 以下が表示されればOK:
   ```
   Gmail Outlook Reply Cleaner: ボタン版が起動しました
   ```

### ボタンが表示されない場合

**チェックリスト:**
- [ ] 返信/転送画面を開いているか？
- [ ] Gmailを再読み込みしたか？（⌘+R）
- [ ] 拡張機能が有効になっているか？
- [ ] コンソールにエラーがないか？

**解決方法:**
1. `chrome://extensions/` を開く
2. 拡張機能の更新ボタン（↻）をクリック
3. Gmailのタブを再読み込み

## ⚡ 実際の使用例

### シナリオ1: 初めての返信
```
1. Outlookユーザーからのメール受信
2. 「返信」をクリック
3. メール本文に > > > や重複リンクが表示
4. 🧹 ボタンをクリック
5. ✨ すっきり！
```

### シナリオ2: 長いスレッド
```
1. 何度も往復したメールスレッド
2. 「転送」をクリック
3. 大量の > > > と重複が表示
4. 🧹 ボタンをクリック
5. ✨ 数千文字削減！
```

## 💡 便利な使い方

### Tips 1: 送信前に確認
1. クリーンアップ実行
2. プレビューで確認
3. 問題なければ送信

### Tips 2: 複数回実行
- 複雑な形式の場合
- 2-3回クリックすると完璧に

### Tips 3: 取り消し
- ⌘+Z で元に戻せます
- 実行前の状態に復元可能

## 🆘 トラブルシューティング

### Q: 削除されすぎた？
**A:** ⌘+Z で元に戻せます

### Q: まだ重複が残っている
**A:** もう一度ボタンをクリック

### Q: ボタンが邪魔
**A:** `content.js`の`bottom`と`right`を調整

### Q: 通知が邪魔
**A:** 3秒で自動的に消えます

## 🎉 完成！

これで、Outlookメールの返信時に：
1. 必要な時だけボタンをクリック
2. 安全に重複を削除
3. すっきりとしたメールを送信

快適なメール作業をお楽しみください！

---

**何か問題があれば:**
1. コンソールログをチェック
2. 拡張機能を更新
3. Chromeを再起動

**デスクトップのフォルダを直接修正しているので:**
- 変更はすぐに反映されます
- `chrome://extensions/` で更新ボタンを押すだけ
