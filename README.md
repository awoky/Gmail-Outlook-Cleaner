# Gmail Outlook Reply Cleaner - 手動クリーンアップ版

GmailでOutlookメールに返信する際、無限に増える重複したmailtoリンクと`> > >`の繰り返しを**ボタンをクリックして**削除するChrome拡張機能です。

## 🎯 特徴

- **手動クリーンアップ** - ボタンをクリックした時のみ実行
- **`> > >` の無限繰り返しを削除** - 見やすい引用形式に
- **mailtoリンクの重複削除** - すっきりとしたメール表示
- **美しいUI** - モダンなボタンデザインと通知
- **安全** - 自動実行しないので予期せぬ変更なし

## 🚀 使い方

### 1. インストール

1. Chromeで `chrome://extensions/` を開く
2. 「デベロッパーモード」をON
3. 「パッケージ化されていない拡張機能を読み込む」
4. このフォルダを選択

### 2. 使用方法

1. Gmailで返信/転送画面を開く
2. 画面右下に「🧹 クリーンアップ」ボタンが表示される
3. ボタンをクリック
4. 自動的に重複部分が削除される
5. 削減した文字数が通知される

## 🧹 削除される内容

### Before（クリーンアップ前）
```
> > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > 
> > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > > >
From: user@example.com <mailto:user@example.com> <mailto:user@example.com> <mailto:user@example.com>
```

### After（クリーンアップ後）
```
> From: user@example.com <mailto:user@example.com>
```

## 📋 削除パターン

1. **`> > >`の無限繰り返し** - 3つ以上の連続を1つに
2. **mailtoリンクの重複** - 同じアドレスの連続を1つに
3. **HTMLリンクの重複** - aタグの重複を統合
4. **空のmailtoタグ** - `<mailto:>` を削除
5. **過剰な空白行** - 4行以上の空白を2行に
6. **連続する同じメールアドレス** - テキスト形式の重複削除

## 🎨 ボタンのデザイン

- **位置**: 画面右下に固定
- **色**: グラデーション（紫〜青）
- **アニメーション**: ホバー時に浮き上がる
- **通知**: クリーンアップ結果を表示

## ⚙️ ファイル構成

```
gmail-cleanup-extension/
├── manifest.json       # 拡張機能の設定
├── content.js         # メインスクリプト（ボタン版）
├── icon16.png         # アイコン
├── icon48.png         # アイコン
├── icon128.png        # アイコン
└── README.md          # このファイル
```

## 🔧 トラブルシューティング

### ボタンが表示されない

1. Gmailを再読み込み（⌘+R）
2. 返信/転送画面を開いているか確認
3. デベロッパーツールのコンソールで以下を確認:
   ```
   Gmail Outlook Reply Cleaner: ボタン版が起動しました
   ```

### クリーンアップが効かない

- エディタ内にカーソルがあることを確認
- 複雑な形式の場合、複数回クリックしてみる
- `content.js`の正規表現パターンを調整可能

## 🔍 動作確認

デベロッパーツール（⌘+Option+I）のConsoleで:
- 起動メッセージ: `Gmail Outlook Reply Cleaner: ボタン版が起動しました`
- 通知も画面右上に表示されます

## 📝 カスタマイズ

### ボタンの位置を変更

`content.js`の`buttonStyle`を編集:
```javascript
bottom: 20px;  // 下からの距離
right: 20px;   // 右からの距離
```

### クリーンアップの強度を変更

`performCleanup`関数内の正規表現を調整できます。

## ⚠️ 注意事項

- Gmailのウェブ版専用
- 実行前にCtrl+Z/⌘+Zで元に戻せます
- 重要なメールは実行前に確認推奨

## 🎉 完成！

これで、必要な時だけボタンをクリックしてクリーンアップできます。
安全で確実な手動操作をお楽しみください！

---

**作成者**: Awoky / AOI Pro.  
**バージョン**: 2.0（手動ボタン版）  
**更新日**: 2025年10月27日
